<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>OOP in Javascript | WDI MELB2 Lesson Notes &amp; Completed Examples</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="./w2_d3_intro_to_html.html" />
    
    
    <link rel="prev" href="./w2_d2_scopes-in_javascript.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="gitbook/style.css">
    
    

        
    <div class="book" data-level="6.2" data-basepath="." data-revision="Fri Apr 10 2015 10:07:09 GMT+1000 (AEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="w1_d1_effective_text_editing.html">
            
                
                    <a href="./w1_d1_effective_text_editing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Effective Text Editing
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="w1_d3_rtfm_finding_things_out.html">
            
                
                    <a href="./w1_d3_rtfm_finding_things_out.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Working Things Out, or: Read The F&#39;n Manual!
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="w1_d2_intro_to_cli.html">
            
                
                    <a href="./w1_d2_intro_to_cli.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Intro to CLI
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="w1_d2_git_and_github.html">
            
                
                    <a href="./w1_d2_git_and_github.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Git and Github
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="w1_d2_intro_to_ruby.html">
            
                
                    <a href="./w1_d2_intro_to_ruby.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Intro to Ruby
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="w1_d2_control_flow_ruby.html">
            
                
                    <a href="./w1_d2_control_flow_ruby.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Controlling Flow with Ruby
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="w1_d4_arrays_hashes_symbols.html">
            
                
                    <a href="./w1_d4_arrays_hashes_symbols.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Arrays, Hashes and Symbols
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="w1_d4_methods_and_blocks.html">
            
                
                    <a href="./w1_d4_methods_and_blocks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Methods and Blocks
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="w1_d4_custom_methods.html">
            
                
                    <a href="./w1_d4_custom_methods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Custom Methods
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="w1_d5_enumerators_enumerables.html">
            
                
                    <a href="./w1_d5_enumerators_enumerables.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Enumerators and Enumerables
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="w2_d1_oop_ruby.html">
            
                
                    <a href="./w2_d1_oop_ruby.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        OOP in Ruby
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="w2_d1_custom_classes_ruby.html">
            
                
                    <a href="./w2_d1_custom_classes_ruby.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Custom Classes
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="w2_d1_multiple_classes_ruby.html">
            
                
                    <a href="./w2_d1_multiple_classes_ruby.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Multiple Classes
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="w2_d2_intro_to_tdd.html">
            
                
                    <a href="./w2_d2_intro_to_tdd.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        TDD / JS / Front-End
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="w2_d2_scopes-in_javascript.html">
            
                
                    <a href="./w2_d2_scopes-in_javascript.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Scopes in Javascript
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="6.2" data-path="w2_d2_javascript_oop.html">
            
                
                    <a href="./w2_d2_javascript_oop.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        OOP in Javascript
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="w2_d3_intro_to_html.html">
            
                
                    <a href="./w2_d3_intro_to_html.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Intro to HTML
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="w2_d3_intro_to_css.html">
            
                
                    <a href="./w2_d3_intro_to_css.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        Intro to CSS
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="w2_d4_intro_to_sinatra.html">
            
                
                    <a href="./w2_d4_intro_to_sinatra.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Intro to Sinatra and Databases
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="w2_d4_sinatra_post.html">
            
                
                    <a href="./w2_d4_sinatra_post.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Sinatra Post
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="w3_d1_intro_to_databases.html">
            
                
                    <a href="./w3_d1_intro_to_databases.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Intro to Databases
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="w3_d2_sinatra_active_record.html">
            
                
                    <a href="./w3_d2_sinatra_active_record.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Sinatra Active Record
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >WDI MELB2 Lesson Notes &amp; Completed Examples</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="objects-in-javascript">Objects in JavaScript</h1>
<p>In JS, we solve both of these with a concept called an object. Objects are like
hashes in Ruby in that they have key / value pairs, but they are different in
that we can access their properties using hash or dot-notation.</p>
<p>Additionally, since functions are closures, we can use them in JS to build
methods on objects.</p>
<p>They are different from ruby objects / clases in that they don&apos;t support
class-based inheritance. Instead they use prototypes, which we&apos;ll cover at a
later date.</p>
<p><br></p>
<h3 id="creating-using">Creating / Using</h3>
<p>Demo creating a car object using literal syntax.</p>
<pre><code>var car = {
  model: &quot;Honda&quot;,
    color: &quot;Red&quot;,
  speed: 0,
};

car.model;
car[&quot;model&quot;];
prop = &quot;color&quot;;
car[prop];
</code></pre><p>Demo making a car with methods:</p>
<pre><code>var car = {
  model: &quot;Honda&quot;,
  color: &quot;Red&quot;,
  speed: 0,
  drive: function() {
    console.log(&quot;Vroooooooom!&quot;);
  },
  gas: function() {
    this.drive();
    this.speed += 10;
  }
};
</code></pre><p>Explain what <code>this</code> is. It&apos;s basically self in ruby.</p>
<p>Enumerate over object properties with:</p>
<ul>
<li>for...in loops</li>
<li>Object.keys(obj)</li>
<li>Object.getOwnPropertyNames(obj)</li>
</ul>
<p>Explain the meaning of hasOwnProperty()</p>
<h4 id="deeper-into-this">Deeper into This</h4>
<p>Create a person object with a name, species and things eaten. Have it &apos;steal&apos;
the speak method from our monkey and notice that it</p>
<h3 id="constructor-methods">Constructor Methods</h3>
<h3 id="make-a-car-constructor">Make a car constructor</h3>
<p>Cars have:</p>
<p>Properties:
make
model
color
speed (0 initially)
maxSpeed</p>
<p>Methods:
accelerate(amt) - increase speed upto maxSpeed
slowDown(amt) - decrease speed by amount (not less than 0)
repaint(newColor)</p>
<h3 id="constructors-in-javascript">Constructors in Javascript</h3>
<pre><code>function Student(name, gender, age, grade, teacher){
  this.name = name;
  this.gender = gender;
  this.age = age;
  this.grade = grade;
  this.teacher = teacher;
}

var bob = new Student(&quot;bob&quot;, &quot;male&quot;, 15, 10, &quot;Gerry&quot;)
alert(bob.age); //Outputs 15
</code></pre><p>From this example we can see that instances of the class are initiated using the new operator. Properties and methods of the class are accessed using the . (dot) operator. So to get the property age of the instance of the Student class named bob, we simply use bob.age. Similarly, we created an instance of the Student class and assigned that to susan. To get the gender of susan, we simply use susan.gender. The code readability benefits from classes are enormous: You can reason that bob.age is the age of bob without having any programming experience.</p>
<p>However, the previous example contains two detrimental (but easily fixable) flaws.<br>1) The class properties can be accessed by any statement<br>2) The arguments must be passed in a certain order</p>
<h3 id="keeping-property-values-private">Keeping property values private</h3>
<p>Note that in the previous example, we were able to get the value of bob.age by simply calling bob.age. Additionally, we could set bob.age to any value we feel like anywhere in the program.</p>
<pre><code>  var bob = new Student(&quot;bob&quot;, &quot;male&quot;, 15, 10, &quot;Marlow&quot;);
  alert(bob.age); //Outputs 15

  bob.age = 9;
  alert(bob.age); //Outputs 9;
</code></pre><p>Seems harmless, right? Well, consider this example.</p>
<pre><code>  var bob = new Student(&quot;bob&quot;, &quot;male&quot;, 15, 10, &quot;Marlow&quot;);
  alert(bob.age); //Outputs 15

  bob.age = -50;
  alert(bob.age); //Outputs -50;
</code></pre><p>We have age as a negative number: A logical inconsistency. We can prevent issues like this and preserve the integrity of our data by utilizing the concept of private variables. A private variable is a variable that can only be accessed within the class itself. While once again JavaScript does not have a reserve word for making a variable private, JavaScript gives us the tools to create the same effect.</p>
<pre><code>  function Student(name, gender, age, grade, teacher)
  {
    var studentName = name;
    var studentGender = gender;
    var studentGrade = grade;
    var studentTeacher = teacher;
    var studentAge = age;

    this.getAge = function()
    {
      return studentAge;
    };

    this.setAge = function(val)
    {
      studentAge = Math.abs(val); //Keep age positive using absolute value
    };
  }

  var bob = new Student(&quot;bob&quot;, &quot;male&quot;, 15, 10, &quot;Marlow&quot;);
  alert(bob.studentAge); //undefined, since age is privately protected in the class definition

  alert(bob.getAge()); //Outputs 15
  bob.setAge(-20);
  alert(bob.getAge()); //Outputs 20
</code></pre><p>By using variable declarations as opposed to attributing properties directly to the class, we have protected the integrity of our age data. Since JavaScript utilizes function scope, a variable declared within our class will not be made accessible outside of that class unless explicitly returned by a function within the class. The method this.getAge, which returns the student age to the calling environment, is known as an Accessor method. An Accessor method returns the value of a property so that the value can be used outside the class without affecting the value inside the class. Accessor methods are usually preceded with the word &quot;get&quot; by convention. The method this.setAge is known as a Mutation method. Its purpose is to alter the value of a property and preserve its integrity.</p>
<p>So we see the benefits of using Accessor and Mutation methods within a class to preserve the integrity of data. However, creating an Accessor method for each property creates extremely long-winded code.</p>
<pre><code>  function Student(name, gender, age, grade, teacher)
  {
    var studentName = name;
    var studentGender = gender;
    var studentGrade = grade;
    var studentTeacher = teacher;
    var studentAge = age;

    this.getName = function()
    {
      return studentName;
    };

    this.getGender = function()
    {
      return studentGender;
    };

    this.getGrade = function()
    {
      return studentGrade;
    };

    this.getTeacher = function()
    {
      return studentTeacher;
    };

    this.getAge = function()
    {
      return studentAge;
    };

    this.setAge = function(val)
    {
      studentAge = Math.abs(val); //Keep age positive using absolute value
    };
  }

  var bob = new Student(&quot;bob&quot;, &quot;male&quot;, 15, 10, &quot;Marlow&quot;);
  alert(bob.studentGender); //undefined, since gender is privately protected in the class definition

  alert(bob.getGender()); //Outputs &apos;male&apos;
</code></pre><p>My C++ Professor always said &quot;If you find yourself typing the same code over and over, you&apos;re doing it wrong.&quot; Indeed there is a more efficient way to create Accessor methods for each property. Additionally, this mechanism also eliminates the need to call function arguments in a specific order.</p>
<h3 id="dynamically-generated-accessor-methods">Dynamically Generated Accessor methods</h3>
<p>This demonstration is based off John Resig&apos;s Pro JavaScript Techniques book (which I highly encourage you to read. The first 3 chapters alone are worth it).</p>
<pre><code>  function Student( properties )
  {
    var $this = this;  //Store class scope into a variable named $this

    //Iterate through the properties of the object
    for ( var i in properties )
    {

      (function(i)
      {
        // Dynamically create an accessor method
        $this[ &quot;get&quot; + i ] = function()
        {
          return properties[i];
        };
      })(i);
    }
  }

  // Create a new user object instance and pass in an object of
  // properties to seed it with
  var student = new Student(
  {
    Name: &quot;Bob&quot;,
    Age: 15,
    Gender: &quot;male&quot;
  });

  alert(student.name); //Undefined due to the property being private

  alert(student.getName()); //Outputs &quot;Bob&quot;
  alert(student.getAge()); //Outputs 15
  alert(student.getGender()); //Outputs &quot;male&quot;
</code></pre><p>By implementing this technique, not only do we keep our properties private, we avoid the need to specify our arguments in order. The following class instantiations are all equivalent</p>
<pre><code>  var student = new Student(
  {
    Name: &quot;Bob&quot;,
    Age: 15,
    Gender: &quot;male&quot;
  });

  var student = new Student(
  {
    Age: 15,
    Name: &quot;Bob&quot;,
    Gender: &quot;male&quot;
  });

  var student = new Student(
  {
    Gender: &quot;male&quot;,
    Age: 15,
    Name: &quot;Bob&quot;
  });
</code></pre>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./w2_d2_scopes-in_javascript.html" class="navigation navigation-prev " aria-label="Previous page: Scopes in Javascript"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./w2_d3_intro_to_html.html" class="navigation navigation-next " aria-label="Next page: Intro to HTML"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
